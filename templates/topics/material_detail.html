{% extends 'base.html' %}

{% block title %}{{ material.title }} | {{ topic.name }} | Pluralist Economics{% endblock %}

{% block content %}
<div class="container">
    <header class="topic-header">
        <div class="material-type-badge">{{ material.get_material_type_display }}</div>
        <h1>{{ material.title }}</h1>
        <p class="header-subtitle">{{ topic.name }}</p>
    </header>

    <!-- Download Options -->
    <div class="download-options">
        <span class="download-label">Download:</span>
        <a href="{% url 'topics:material_download' topic.slug material.id %}" class="btn btn-secondary btn-sm">
            Markdown (.md)
        </a>
        <a href="{% url 'topics:material_download_format' topic.slug material.id 'txt' %}" class="btn btn-secondary btn-sm">
            Plain Text (.txt)
        </a>
        {% if material.file %}
        <a href="{{ material.file.url }}" class="btn btn-primary btn-sm" download>
            Original File
        </a>
        {% endif %}
    </div>

    <article class="material-content">
        <div class="content-tier-badge tier-{{ material.tier }}">
            {% if material.tier == 1 %}Approved Reference
            {% elif material.tier == 2 %}Platform Content
            {% else %}Generative Content{% endif %}
        </div>

        <div class="material-body prose">
            {{ content_html|safe }}
        </div>
    </article>

    <!-- Back Navigation -->
    <nav class="back-navigation">
        <a href="{% url 'topics:materials' topic.slug %}" class="back-link">
            Back to Materials
        </a>
        <a href="{% url 'topics:topic_hub' topic.slug %}" class="back-link">
            Back to {{ topic.name }}
        </a>
    </nav>
</div>
{% endblock %}
